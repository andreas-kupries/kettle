#!/usr/bin/env tclsh
# -*- tcl -*-
lappend auto_path [file dirname [file dirname [file normalize [info script]/___]]]
package require kettle
if {[lindex $argv 0] eq {-f}} {
    set argv [lassign $argv __ buildfile]
} elseif {[file exists build.tcl]} {
    set buildfile build.tcl
} else {
    puts stderr "Build definition file neither specified, nor found"
    kettle::done 1
}
if {[catch {
    source $buildfile
}]} {
    # Report troubles in the declarations and abort.
    puts stderr $::errorInfo
    kettle::done 1
}
# remainder of activity automatic on ::exit
